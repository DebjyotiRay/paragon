(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{5730:function(e,s,t){Promise.resolve().then(t.bind(t,7592))},7592:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return x}});var a=t(7437),r=t(2265),l=t(9763);let n=(0,l.Z)("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),i=(0,l.Z)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);var c=t(401),o=t(6265),d=t(1784),m=t(9376);function x(){let{user:e,isLoading:s,mode:t}=(0,o.a)(),[l,x]=(0,r.useState)("profile"),[u,h]=(0,r.useState)("monthly"),[g,y]=(0,r.useState)(null),[p,f]=(0,r.useState)(!1),[b,j]=(0,r.useState)(""),[N,w]=(0,r.useState)(!1),[v,k]=(0,r.useState)(""),P=(0,m.useRouter)(),A=async()=>{try{let e=await (0,d.ud)();f(e.hasApiKey)}catch(e){console.error("Failed to fetch API key status:",e)}};if((0,r.useEffect)(()=>{if(e)return(async()=>{try{let e=await (0,d.et)();y(e),k(e.display_name),await A()}catch(e){console.error("Failed to fetch profile data:",e)}})(),window.ipcRenderer&&window.ipcRenderer.on("api-key-updated",()=>{console.log("Received api-key-updated event from main process."),A()}),()=>{window.ipcRenderer&&window.ipcRenderer.removeAllListeners("api-key-updated")}},[e]),s)return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});if(!e)return P.push("/login"),null;let C="firebase"===t,Z=async()=>{w(!0);try{await (0,d.ks)(b),f(!0),j(""),window.ipcRenderer&&window.ipcRenderer.invoke("save-api-key",b)}catch(e){console.error("Failed to save API key:",e)}finally{w(!1)}},S=async()=>{if(g&&v!==g.display_name){w(!0);try{await (0,d.Lj)({displayName:v}),y(e=>e?{...e,display_name:v}:null)}catch(e){console.error("Failed to update display name:",e)}finally{w(!1)}}},E=async()=>{let e=C?"Are you sure you want to delete your account? This action cannot be undone and all data stored in Firebase will be deleted.":"Are you sure you want to delete your account? This action cannot be undone and all data will be deleted.";if(window.confirm(e))try{await (0,d.tm)(),P.push("/login")}catch(e){console.error("Failed to delete account:",e)}},F=async()=>{try{await (0,d.kS)()}catch(e){console.error("Logout failed:",e)}},L=()=>(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg border ".concat(C?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[C?(0,a.jsx)(n,{className:"h-5 w-5 text-blue-600"}):(0,a.jsx)(i,{className:"h-5 w-5 text-gray-600"}),(0,a.jsx)("h3",{className:"font-semibold ".concat(C?"text-blue-900":"text-gray-900"),children:C?"Firebase Hosting Mode":"Local Execution Mode"})]}),(0,a.jsx)("p",{className:"text-sm ".concat(C?"text-blue-700":"text-gray-700"),children:C?"All data is safely stored and synchronized in Firebase Cloud.":"Data is stored in local database and you can use personal API keys."})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>h("monthly"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("monthly"===u?"bg-gray-200 text-gray-900":"text-gray-600 hover:text-gray-900"),children:"Monthly"}),(0,a.jsx)("button",{onClick:()=>h("annually"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("annually"===u?"bg-gray-200 text-gray-900":"text-gray-600 hover:text-gray-900"),children:"Annually"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Free"}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-gray-900",children:["$0",(0,a.jsx)("span",{className:"text-lg font-normal text-gray-600",children:"/month"})]})]}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Experience how Pickle Glass works with unlimited responses."}),(0,a.jsxs)("ul",{className:"space-y-3 mb-8",children:[(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Daily unlimited responses"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Unlimited access to free models"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Unlimited text output"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Screen viewing, audio listening"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Custom system prompts"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Community support only"})]})]}),(0,a.jsx)("button",{className:"w-full py-2 px-4 bg-gray-200 text-gray-700 rounded-md font-medium",children:"Current Plan"})]}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 opacity-60",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Pro"}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-gray-900",children:["$25",(0,a.jsx)("span",{className:"text-lg font-normal text-gray-600",children:"/month"})]})]}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Use latest models, get full response output, and work with custom prompts."}),(0,a.jsxs)("ul",{className:"space-y-3 mb-8",children:[(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Unlimited pro responses"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Unlimited access to latest models"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Full access to conversation dashboard"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Priority support"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"All features from free plan"})]})]}),(0,a.jsx)("button",{className:"w-full py-2 px-4 bg-cyan-400 text-white rounded-md font-medium",children:"Coming Soon"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 text-white rounded-lg p-6 opacity-60",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Enterprise"}),(0,a.jsx)("div",{className:"text-xl font-semibold",children:"Custom"})]}),(0,a.jsx)("p",{className:"text-gray-300 mb-6",children:"Specially crafted for teams that need complete customization."}),(0,a.jsxs)("ul",{className:"space-y-3 mb-8",children:[(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-green-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Custom integrations"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-green-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"User provisioning & role-based access"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-green-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Advanced post-call analytics"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-green-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Single sign-on"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-green-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Advanced security features"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-green-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Centralized billing"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-green-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Usage analytics & reporting dashboard"})]})]}),(0,a.jsx)("button",{className:"w-full py-2 px-4 bg-gray-600 text-white rounded-md font-medium",children:"Coming Soon"})]})]}),(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"h-6 w-6 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-green-900",children:"All features are currently free!"}),(0,a.jsx)("p",{className:"text-green-700 text-sm",children:C?"Enjoy all Pickle Glass features for free in Firebase hosting mode. Pro and Enterprise plans will be released soon with additional premium features.":"Enjoy all Pickle Glass features for free in local mode. You can use personal API keys or continue using the free system."})]})]})})]});return(0,a.jsx)("div",{className:"bg-stone-50 min-h-screen",children:(0,a.jsxs)("div",{className:"px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Settings"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Personal Settings"})]}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)("nav",{className:"flex space-x-10",children:[{id:"profile",name:"Personal Profile",href:"/settings"},{id:"privacy",name:"Data & Privacy",href:"/settings/privacy"},{id:"billing",name:"Billing",href:"/settings/billing"}].map(e=>(0,a.jsx)("a",{href:e.href,onClick:"privacy"===e.id?void 0:()=>x(e.id),className:"pb-4 px-2 border-b-2 font-medium text-sm transition-colors ".concat(l===e.id?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.name},e.id))})}),(()=>{switch(l){case"billing":default:return L();case"profile":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"p-4 rounded-lg border ".concat(C?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[C?(0,a.jsx)(n,{className:"h-5 w-5 text-blue-600"}):(0,a.jsx)(i,{className:"h-5 w-5 text-gray-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold ".concat(C?"text-blue-900":"text-gray-900"),children:C?"Firebase Hosting Mode":"Local Execution Mode"}),(0,a.jsx)("p",{className:"text-sm ".concat(C?"text-blue-700":"text-gray-700"),children:C?"Logged in with Google account (".concat(e.email,")"):"Running as local user"})]})]}),C&&(0,a.jsx)("button",{onClick:F,className:"px-3 py-1 text-sm text-blue-600 hover:text-blue-700 underline",children:"Logout"})]})}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Display Name"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Enter your full name or a display name you're comfortable using."}),(0,a.jsxs)("div",{className:"max-w-sm",children:[(0,a.jsx)("input",{type:"text",id:"display-name",value:v,onChange:e=>k(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-black",maxLength:32}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"You can use up to 32 characters."})]}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-end",children:(0,a.jsx)("button",{onClick:S,disabled:N||!v||v===(null==g?void 0:g.display_name),className:"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 disabled:opacity-50",children:"Update"})})]}),!C&&(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"API Key"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"If you want to use your own LLM API key, you can add it here. It will be used for all requests made by the local application."}),(0,a.jsxs)("div",{className:"max-w-sm",children:[(0,a.jsx)("label",{htmlFor:"api-key",className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)("input",{type:"password",id:"api-key",value:b,onChange:e=>j(e.target.value),className:"flex-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm text-black",placeholder:"Enter new API key or existing API key"})}),p?(0,a.jsx)("p",{className:"text-xs text-green-600 mt-2",children:"API key is currently set."}):(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"No API key set. Using free system."})]}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-end",children:(0,a.jsx)("button",{onClick:Z,disabled:N||!b,className:"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 disabled:opacity-50",children:N?"Saving...":"Save"})})]}),(C||!C&&!p)&&(0,a.jsxs)("div",{className:"bg-white border border-red-300 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Delete Account"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:C?"Permanently remove your Firebase account and all content. This action cannot be undone, so please proceed carefully.":"Permanently remove your personal account and all content from the Pickle Glass platform. This action cannot be undone, so please proceed carefully."}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-end",children:(0,a.jsx)("button",{onClick:E,className:"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete"})})]})]});case"privacy":return null}})()]})})}},9763:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var a=t(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,s)=>{let t=(0,a.forwardRef)((t,n)=>{let{color:i="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:m="",children:x,...u}=t;return(0,a.createElement)("svg",{ref:n,...r,width:c,height:c,stroke:i,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(l(e)),m].join(" "),...u},[...s.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(x)?x:[x]])});return t.displayName="".concat(e),t}},401:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},9376:function(e,s,t){"use strict";var a=t(5475);t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},6265:function(e,s,t){"use strict";t.d(s,{a:function(){return o},g:function(){return d}});var a=t(2265),r=t(9376),l=t(1784),n=t(1694),i=t(3301);let c={uid:"default_user",display_name:"Default User",email:"contact@pickle.com"},o=()=>{let[e,s]=(0,a.useState)(null),[t,r]=(0,a.useState)(!0),[o,d]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let e=(0,i.Aj)(n.I8,async e=>{if(e){console.log("\uD83D\uDD25 Firebase mode activated:",e.uid),d("firebase");let t={uid:e.uid,display_name:e.displayName||"User",email:e.email||"no-email@example.com"};try{t=await (0,l.Oo)(t),console.log("✅ Firestore user created/verified:",t)}catch(e){console.error("❌ Firestore user creation/verification failed:",e)}s(t),(0,l.ps)(t)}else console.log("\uD83C\uDFE0 Local mode activated"),d("local"),s(c),(0,l.ps)(c);r(!1)});return()=>e()},[]),{user:e,isLoading:t,mode:o}},d=()=>{let{user:e,isLoading:s}=o(),t=(0,r.useRouter)();return(0,a.useEffect)(()=>{},[e,s,t]),e}}},function(e){e.O(0,[358,990,915,784,971,117,744],function(){return e(e.s=5730)}),_N_E=e.O()}]);